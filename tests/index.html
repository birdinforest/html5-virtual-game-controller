<!Doctype html>
<html>
<head>
<script src="../src/gamecontroller.js"></script>
<style>
html, body, canvas {
  margin: 0;
  padding: 0;
  border: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
</style>
</head>
<body>
<canvas></canvas>
<script>
/* globals GameController */

(function(){
  'use strict';

  var canvas = document.getElementsByTagName('canvas')[0];
  function resize(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  // window.addEventListener(resize);
  window.onresize = resize;
  // resize();

  GameController.init({
    left: {
      // type: 'joystick',
      type: 'dpad',
      // dpad: {
      //   up: {width: 40, height: 30, stroke: 10, opacity: 1, touchStart: () => {console.log('touch start up');}},
      //   down: {width: 40, height: 30, stroke: 10, opacity: 1, touchStart: () => {console.log('touch start down');}},
      //   left: {width: 40, height: 30, stroke: 10, opacity: 1, touchStart: () => {console.log('touch start left');}},
      //   right: {width: 40, height: 30, stroke: 10, opacity: 1, touchStart: () => {console.log('touch start right');}},
      // },
      position: {left: '15%', bottom: '15%'},
      dpad: {
        up: {
          width: '7%',
          height: '15%',
          stroke: 2,
          touchStart: function() {
            GameController.simulateKeyEvent( 'press', 38);
            GameController.simulateKeyEvent( 'down', 38);
          },
          touchEnd: function() {
            GameController.simulateKeyEvent( 'up', 38);
          }
        },
        left: {
          width: '15%',
          height: '7%',
          stroke: 2,
          touchStart: function() {
            GameController.simulateKeyEvent( 'press', 37);
            GameController.simulateKeyEvent( 'down', 37);
          },
          touchEnd: function() {
            GameController.simulateKeyEvent( 'up', 37);
          }
        },
        down: {
          width: '7%',
          height: '15%',
          stroke: 2,
          touchStart: function() {
            GameController.simulateKeyEvent( 'press', 40);
            GameController.simulateKeyEvent( 'down', 40);
          },
          touchEnd: function() {
            GameController.simulateKeyEvent( 'up', 40);
          }
        },
        right: {
          width: '15%',
          height: '7%',
          stroke: 2,
          touchStart: function() {
            GameController.simulateKeyEvent( 'press', 39);
            GameController.simulateKeyEvent( 'down', 39);
          },
          touchEnd: function() {
            GameController.simulateKeyEvent( 'up', 39);
          }
        }
      },
    },
    right: {
      position: {right: '15%', bottom: '20%'},
      type: 'buttons',
      buttons: [{
          label: 'X',
          fontSize: 23,
          touchStart: function(){
            console.log('X start');
          }
        }, {
          label: 'Y',
          fontSize: 23,
          touchStart: function(){
            console.log('Y start');
          }
        },
        false,
        false
      ]
    }
  });
})();
</script>
</body>
</html>
